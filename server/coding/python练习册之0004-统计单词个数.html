<!DOCTYPE html>
<html lang="cn">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<link rel="dns-prefetch" href="//hm.baidu.com"/>
	<link rel="dns-prefetch" href="//disqus.com"/>
	<link rel="dns-prefetch" href="//a.disquscdn.com"/>

	<meta name="Keywords" content="yinwoods,殷成涛,个人博客,郑州大学,python,tools"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"/>
	<meta content="yes" name="apple-mobile-web-app-capable" />
	<meta content="black" name="apple-mobile-web-app-status-bar-style" />
	<meta content="telephone=no" name="format-detection" />
	
	<meta name="author" content="yinwoods">

	<link rel="alternate" type="application/rss+xml" title="yinwoods Feed" href="/rss.xml" />
	<link rel="apple-touch-icon-precomposed" href="/img/icon.png">
	<link rel="apple-touch-icon-precomposed" href="/img/icon-16.png" sizes="16x16" />
	<link rel="apple-touch-icon-precomposed" href="/img/icon-24.png" sizes="24x24" />
	<link rel="apple-touch-icon-precomposed" href="/img/icon-32.png" sizes="32x32" />
	<link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">

    <title>python练习册之【0004，0006-单词统计】 | yinwoods</title>
  
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/rouge.css">
	<link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
	<script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
		(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
		e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
		})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

		_st('install','csxq-8xzb6tiaQ1dQaGs','2.0.0');
	</script>
</head>


<body>
	<div id="container" class="container">
		<div id="content" class="content">
						<nav class="navbar">
				<div class="pull-left">
					<button id="btnMenu" type="button" class="btn btn-default btn-sm btn-menu">
						<span class="glyphicon glyphicon-th-list" aria-hidden="true"></span>	菜 单
					</button>
				</div>
				<ul class="pull-center">
					<li class="active"><a href="/">博客</a></li>
                    <li><a href="/about.html">关于我</a></li>
				</ul>
				<div class="pull-right">
					<button type="button" class="btn btn-default btn-sm btn-list">
						<a href="/book-movie-list/booklist.html">
							<span class="glyphicon glyphicon-list-alt"></span> 书单/影单  
						</a>
					</button>
				</div>
			</nav>

			<header class="post-header">
        <div class="hd-img">
                <img src="http://7xlh6u.com1.z0.glb.clouddn.com/bg31.jpg" alt="背景图片">
        </div>

        <div class="title">
           <h1>python练习册之【0004，0006-单词统计】</h1>
        </div>
</header>
<button id="btnArrow" class="btn-arrow" data-info="点击显示文章"><i class="icon icon-arrow-down">&#xe619;</i></button>
<div class="post-title">
	<h1>python练习册之【0004，0006-单词统计】</h1>
	
	<p>作者: <a target="_blank" href="http://blog.yinwoods.com/"><strong>yinwoods</strong></a>&nbsp;&nbsp;&nbsp;
		分类: <a target="_blank" href="http://blog.yinwoods.com/coding.html"><strong>coding</strong></a>&nbsp;&nbsp;&nbsp;
		日期: <strong>2015年09月10日</strong>&nbsp;&nbsp;&nbsp;
         <ul class="tags post-tags">
            
            
            
                
            
                
            
            
            
                
            
                
            
            
            
                
            
                
            
            
            
                
            
                
            
            
            
                
            
                
                    <li><a href="/tags/tools/index.html">tools<span>5</span></a></li>
                
            
            
            
                
            
                
            
            
            
                
            
                
            
            
            
                
            
                
            
            
            
                
            
                
            
            
            
                
            
                
            
            
            
                
                    <li><a href="/tags/python/index.html">python<span>7</span></a></li>
                
            
                
            
            
            
                
            
                
            
            
            </ul></p>
</div>
    

    <article class="post-content">
        <hr class="post-end-left"><p class="post-end">开始</p><hr class="post-end-right"/>
        <div>
            <p>题意是统计一个文本中单词出现个数。可以肯定的是涉及到文件操作以及正则匹配。</p>

<p>这里只是单纯地匹配单词，还是很简单的。我们只要提取出单词的特征就好了（<strong>当然我们默认给定的都是合法的单词</strong>）</p>

<p>另外对正则表达式不太熟悉的朋友可以参考：<a href="http://blog.yinwoods.com/coding/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AD%A6%E4%B9%A0.html">正则表达式学习</a></p>

<p>下面上代码，7行代码就可以解决了：</p>

<div>
  <pre><code class='python'>import re

f = open(&quot;in.txt&quot;, &quot;r&quot;)
regx = re.compile(r&quot;\b[\w']*[^ ]\b&quot;)
regx = regx.findall(f.read())
print(&quot;单词总数为：&quot;, len(regx))
print(regx)</code></pre>
</div>

<p>说明：</p>

<blockquote>
<p>我们把单词文本放在in.txt目录下，正则表达式<code>\b[\w&#39;]*[^ ]\b</code>用来匹配所有的单词，这里我们提取的单词特征为：<code>字母、数字、下划线或&#39;出现多次，且不含空格</code></p>
</blockquote>

<p><code>f.read()</code>读取文本所有内容，<code>findall</code>进行正则匹配。</p>

<p>测试内容如下：</p>

<blockquote>
<p>To ease these woes, public transport app Citymapper has released a new feature that offers advice on which part of the train to get on to shave time off your journey. The Boarding Strategy feature advises users whether they are better to get on the front, middle or back of their train in preparation for the next leg of their journey.</p>

<p>The new feature could also make journeys easier for visitors in unfamiliar cities by helping them make transfers between trains quickly and efficiently.</p>

<p>According to a post on Citymapper&#39;s blog: &#39;In peak hours this will knock minutes off your journey time. We have collected this data as much as we&#39;ve been able to in all our cities.&#39;</p>

<p>The service works when a user searches for a journey and also when using the Citymapper Go mode. A logo appears in the journey advice menu, suggesting which part of the train is best to get on. It also gives Citymapper a new edge when facing competition from search giant Google and Apple Maps.</p>

<p>However, some users have pointed out that it may lead to already packed carriages becoming even fuller if they are close to exits at popular stations. Plus, the app has still to provide advice that many commuters will be wanting, namely which carriage to get on to increase the chances of getting a seat.</p>

<p>Citymapper is available in 29 cities providing journey advice on trains, trams, buses, underground services and metro lines.</p>
</blockquote>

<p>放到word中可以发现以上共<strong>244</strong>个单词，下面我们运行python程序<code>python 0004.py &gt; out.txt</code>，比较结果：</p>

<p><img src="http://7xlnl2.com1.z0.glb.clouddn.com/post31-%E6%88%AA%E5%9B%BE.png" alt="截图"></p>

<p>发现结果匹配成功！</p>

<p>0006题和0004题比较像，要求是统计每个文件中出现次数最多的单词</p>

<p>代码如下：
<div>
  <pre><code class='python'>import re</p>

<p>def get_word(diary):
    regx = re.compile(r&quot;\b[\w&#39;]*[^ ]\b&quot;)
    content = open(diary, &quot;r&quot;).read()
    regx = regx.findall(content)
    mp = {}
    for cnt in range(0, len(regx)):
        if mp.get(regx[cnt]) != None:
            mp[regx[cnt]] = mp[regx[cnt]] + 1
        else:
            mp[regx[cnt]] = 1
    ls = sorted(mp.items(), key=lambda d:d[1], reverse=True)#按值从大到小对map排序
    print(&quot;The most important word in&quot;, diary, &quot;is &amp;quot;&quot; + ls[0][0] + &quot;&amp;quot; and it shows&quot;, ls[0][1], &quot;times.&quot;)</p>

<p>path = (&quot;in1.txt&quot;, &quot;in2.txt&quot;)
for diary in path:
    get_word(diary)</code></pre>
</div></p>

        </div>
        <hr class="post-end-left"><p class="post-end">结束</p><hr class="post-end-right"/>
        <div class="post-footer">
            
            <p class="post-footer-previous">上一篇 ： <a class="entry-more" href="/coding/python%E7%BB%83%E4%B9%A0%E5%86%8C%E4%B9%8B0001-%E7%94%9F%E6%88%90%E6%BF%80%E6%B4%BB%E7%A0%81.html">python练习册之【0001，0002-添加数据到mysql】</a></p>
            
            
            <p class="post-footer-next">下一篇 ： <a class="entry-more" href="/coding/python%E7%BB%83%E4%B9%A0%E5%86%8C%E4%B9%8B0005-%E6%94%B9%E5%8F%98%E5%9B%BE%E7%89%87%E5%88%86%E8%BE%A8%E7%8E%87.html">python练习册之【0005-改变图片分辨率】</a></p>
            
        </div>
    <!-- JiaThis Button BEGIN -->
    <div class="jiathis_style">
        <span style="font-family:sans-serif; color:#009966">分享到：</span>
        <a class="jiathis_button_weixin share_button" href="#"></a>
        <a class="jiathis_button_tsina share_button" href="#"></a>
        <a class="jiathis_button_qzone share_button" href="#"></a>
        <a class="jiathis_button_evernote share_button" href="#"></a>
        <a class="jiathis_button_ydnote share_button" href="#"></a>
        <a class="jiathis_button_pocket share_button" href="#"></a>
        <a class="jiathis_button_douban share_button" href="#"></a>
        <a class="jiathis_button_renren share_button" href="#"></a>
        <a class="jiathis_button_fb share_button" href="#"></a>
        <a class="jiathis_button_linkedin share_button" href="#"></a>
        <a class="jiathis_button_googleplus share_button" href="#"></a>
        <a class="jiathis_button_tumblr share_button" href="#"></a>
        <a class="jiathis_counter_style"></a>
    </div>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script>
<script type="text/javascript" src="/js/totop.js" charset="utf-8"></script>
<!-- JiaThis Button END -->
</article>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'yinwoods'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    



		</div>
					<footer class="footer">
				<div class="row">
					<div class="pull-left">
						<a class="avatar" href="/" title="yinwoods">yinwoods</a>
                        			<p class="copyright">2015 ALL RIGHTS RESERVED</p>
					</div>
					
					<div class="pull-center">
						<h4>Powered by <a target="_blank" href="https://github.com/yinwoods">github</a> && <a target="_blank" href="http://jekyllrb.com/">jekyll</a></h4>
					</div>
				</div>
			</footer>

				<nav id="menu" class="menu">
			<ul>
				<li class="logo"><a href="about.html"><img  class="img-circle" height="100px" width="100px" src="/img/about/me.png"></a></li>

				<li><a href="/index.html"><span class="glyphicon glyphicon-home"></span></i> 首页 </a></li>
				
				<li><a href="/coding.html"><span class="glyphicon glyphicon-road"></span></i>  编程之路 </a></li>

				<li><a href="/myshare.html"><span class="glyphicon glyphicon-gift"></span>  我的分享 </a></li>
				
				<li><a href="/diary.html"><span class="glyphicon glyphicon-calendar"></span></i>  生活日志 </a></li>
				
				<li><a href="/book-movie-list/booklist.html"><span class="glyphicon glyphicon-inbox"></span></i>  书单/影单  </a></li>

				<li><a href="/about.html"><span class="glyphicon glyphicon-sunglasses"></span></i>  关于博主 </a></li>

				<li><a href="/friend.html"><span class="glyphicon glyphicon-send"></span></i> 我的朋友 </a></li>

				<li><img class="img-rounded" height="100px" width="100%" src="/img/about/footer.png"></li>

			</ul>
			<button id="btnClose" class="btn-close"></button>

			<div id="SVGMenu" class="svg-menu" 
                data-menu-open="M-7.312,0H15c0,0,66,113.339,66,399.5C81,664.006,15,800,15,800H-7.312V0z;M-7.312,0H100c0,0,0,113.839,0,400c0,264.506,0,400,0,400H-7.312V0z" 
                data-menu-close="M-6,0h101c0,0-90,153.603-90,396.167C2.167,627.579,100,800,100,800H-1V0z;M-7.312,0H100c0,0,0,113.839,0,400c0,264.506,0,400,0,400H-7.312V0z">
				<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100 800" preserveAspectRatio="none">
					<path d="M-7.312,0H0c0,0,0,113.839,0,400c0,264.506,0,400,0,400h-7.312V0z"/>
				</svg>
			</div>

		</nav>


		<div id="totop">
    			<a title="返回顶部">返回顶部</a>
		</div>
	</div>

	<script type="text/javascript" src="/js/classie.js"></script>

	<script type="text/javascript" src="/js/snap.svg-min.js"></script>
	<script type="text/javascript" src="/js/menuTriggle.js"></script>
	<script type="text/javascript" src="/js/SVGButton.js"></script>

	<script type="text/javascript" src="/js/postTriggle.js"></script>

	
	<script type="text/javascript" src="/js/jquery-2.1.1.min.js"></script>
	<script type="text/javascript" src="/js/totop.js"></script>
	<script type="text/javascript">
		var content = document.querySelector('.content'),
			footer = document.querySelector('.footer'),
			footT  = footer.offsetTop,
			footH  = footer.offsetHeight,
			winH   = window.innerHeight,
			post   = document.querySelectorAll('p');

		if (footT - footH + 100 < winH) {
			content.style.height = '100%';
		};

		for (var i = 0; i < post.length; i++) {
			if (post.item(i).querySelector('img')) {
				post.item(i).style.textIndent = 0;
			};
		};

	</script>
	<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?eefd87bbdb3a5e21ecb7f319769dd8b9";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

</body>
</html>
