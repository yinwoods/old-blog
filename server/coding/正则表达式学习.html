<!DOCTYPE html>
<html lang="cn">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<link rel="dns-prefetch" href="//hm.baidu.com"/>
	<link rel="dns-prefetch" href="//disqus.com"/>
	<link rel="dns-prefetch" href="//a.disquscdn.com"/>

	<meta name="Keywords" content="yinwoods,殷成涛,个人博客,郑州大学,tools"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"/>
	<meta content="yes" name="apple-mobile-web-app-capable" />
	<meta content="black" name="apple-mobile-web-app-status-bar-style" />
	<meta content="telephone=no" name="format-detection" />
	
	<meta name="author" content="yinwoods">

	<link rel="alternate" type="application/rss+xml" title="yinwoods Feed" href="/rss.xml" />
	<link rel="apple-touch-icon-precomposed" href="/img/icon.png">
	<link rel="apple-touch-icon-precomposed" href="/img/icon-16.png" sizes="16x16" />
	<link rel="apple-touch-icon-precomposed" href="/img/icon-24.png" sizes="24x24" />
	<link rel="apple-touch-icon-precomposed" href="/img/icon-32.png" sizes="32x32" />
	<link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">

    <title>正则表达式学习 | yinwoods</title>
  
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/rouge.css">
	<link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
	<script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
		(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
		e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
		})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

		_st('install','csxq-8xzb6tiaQ1dQaGs','2.0.0');
	</script>
</head>


<body>
	<div id="container" class="container">
		<div id="content" class="content">
						<nav class="navbar">
				<div class="pull-left">
					<button id="btnMenu" type="button" class="btn btn-default btn-sm btn-menu">
						<span class="glyphicon glyphicon-th-list" aria-hidden="true"></span>	菜 单
					</button>
				</div>
				<ul class="pull-center">
					<li class="active"><a href="/">博客</a></li>
                    <li><a href="/about.html">关于我</a></li>
				</ul>
				<div class="pull-right">
					<button type="button" class="btn btn-default btn-sm btn-list">
						<a href="/book-movie-list/booklist.html">
							<span class="glyphicon glyphicon-list-alt"></span> 书单/影单  
						</a>
					</button>
				</div>
			</nav>

			<header class="post-header">
        <div class="hd-img">
                <img src="http://7xlh6u.com1.z0.glb.clouddn.com/bg11.jpg" alt="背景图片">
        </div>

        <div class="title">
           <h1>正则表达式学习</h1>
        </div>
</header>
<button id="btnArrow" class="btn-arrow" data-info="点击显示文章"><i class="icon icon-arrow-down">&#xe619;</i></button>
<div class="post-title">
	<h1>正则表达式学习</h1>
	
	<p>作者: <a target="_blank" href="http://blog.yinwoods.com/"><strong>yinwoods</strong></a>&nbsp;&nbsp;&nbsp;
		分类: <a target="_blank" href="http://blog.yinwoods.com/coding.html"><strong>coding</strong></a>&nbsp;&nbsp;&nbsp;
		日期: <strong>2015年07月12日</strong>&nbsp;&nbsp;&nbsp;
         <ul class="tags post-tags">
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
                    <li><a href="/tags/tools/index.html">tools<span>5</span></a></li>
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            </ul></p>
</div>
    

    <article class="post-content">
        <hr class="post-end-left"><p class="post-end">开始</p><hr class="post-end-right"/>
        <div>
            <p>学习php的过程中接触了正则表达式，想到自己封存了一个月之久的正则表达式教程也该重见天日了！</p>

<p>教程地址：<a href="http://deerchao.net/tutorials/regex/regex.htm">正则表达式30分钟入门教程</a></p>

<p><strong>版权声明：本文是在学习上述教程过程中编写；如有雷同，纯属学习！</strong></p>

<blockquote>
<h3>元字符</h3>

<ul>
<li><p>1、<code>\b</code>是正则表达式规定的一个元字符，代表着单词的开头或结尾;所以我们可以通过<code>\bhello\b</code>来匹配一个hello<strong>单词</strong></p></li>
<li><p>2、<code>.</code>同样是一个元字符，匹配除换行符之外的任意字符</p></li>
<li><p>3、<code>*</code>是一个元字符，它代表数量，表明<code>*</code>前字符可以出现任意次数</p>

<blockquote>
<p>综上  <code>\bhi\b.*\bLucy\b</code> 就是匹配先出现<strong>单词</strong> hi hi之后跟任意数量个非换行符外的其他字符，再接着是<strong>单词</strong> Lucy 的情况</p>
</blockquote></li>
<li><p>4、<code>\d</code>是一个元字符，匹配任意一个数字；<code>\d{5}</code> 这种形式则表示匹配5个数字</p></li>
<li><p>5、<code>\s</code>是一个元字符，匹配任意空白字符，包括空格、制表符、换行符等</p></li>
<li><p>6、<code>\w</code>匹配<strong>字母、数字、下划线或汉字等</strong></p>

<blockquote>
<p>举几个栗子便于理解：
1、<code>\ba\w*\b</code>匹配以a开头的<strong>单词</strong>（这里的单词可以含下划线或汉字，取决于\w的定义）
2、<code>\d+</code>匹配1个或多个连续的数字； <strong>+与<code>*</code>的不同之处在于：<code>*</code>可以匹配0次或多次，而+匹配1次或多次</strong></p>
</blockquote></li>
<li><p>7、 <code>^</code>匹配字符串的开始；<code>$</code>匹配字符串的结束； <code>^\d{5,12}$</code>就可以用来匹配5-12位的数字</p></li>
</ul>

<h3>字符转义</h3>

<ul>
<li>8、字符转义：如果想在字符串中匹配<code>.</code>或<code>*</code>时需要对字符进行转义，可以用&#39;\&#39;加元字符来进行转义；举个栗子：windows系统中<code>C:\\Windows</code>即为<code>C:\Windows</code>。</li>
</ul>

<h3>重复限定符</h3>

<ul>
<li>9、限定符，对于<code>&#39;*&#39;、&#39;+&#39;、&#39;?&#39;、{n}</code>均为限定符；下面给出限定符以及对应的含义
&gt;      <code>*：</code>      重复零次或更多次 </li>
</ul>

<blockquote>
<p><code>+：</code>      重复一次或更多次</p>

<p><code>?：</code>      重复零次或一次</p>

<p><code>{n}：</code>    重复n次</p>

<p><code>{n,}：</code>   重复n次或更多次</p>

<p><code>{n,m}：</code>  重复n到m次</p>
</blockquote>

<h3>字符类</h3>

<ul>
<li>10、如果想匹配没有预定义元字符的字符集合，比如<code>元音字母（a、e、i、o、u）</code>时，只需在方括号中列出来就可以了，即<code>[aeiou]</code>；
&gt; 举个栗子：对于<code>\(?0\d{2}[) -]?\d{8}</code>，是指以<code>(</code>开头后跟零个或一个数字0，接着是两个数字，然后跟0零个或一个<code>)</code>、<code></code>、<code>-</code>中的任一个，再跟8个数字；比如<code>(010)88886666</code>、<code>022-22334455</code></li>
</ul>

<h3>分支条件</h3>

<ul>
<li>11、分支条件：满足几种规则中的任意一种即为匹配；判断是否满足时按照从左到右的顺序，一旦发现满足的条件即退出判断说明判断成功。
&gt; 举个栗子：<code>\d{5}-\d{4}|\d{5}</code>即表示用连字符分隔的9位数字或5位数字；如果写成<code>\d{5}|\d{5}-\d{4}</code>则遇到形如<code>12345-6789</code>的数字串会匹配成前5个数字<code>12345</code>；说明分支条件顺序的重要性。</li>
</ul>

<h3>分组</h3>

<ul>
<li>12、当我们想重复单个字符时可以在这个字符后加限定符；而当我们想重复多个字符时可以使用小括号来指定<strong>分组</strong>
&gt; 举个栗子：<code>(\d{1,3}\.){3}\d{1,3}</code>表示一个简单的IP地址（不考虑某一位大于255情况），很容易看出来<code>(\d{1,3}\.){3}</code>表示三个以1-3位数字后跟 . 组成的串，后面再跟一个1-3位数字；给出一个正确的IP地址匹配正则表达式<code>((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)</code>相信看官认真看时可以看懂的...</li>
</ul>

<h3>反义</h3>

<ul>
<li>13、反义：查找除某些字符外的其他字符；只需把之前讲的几个元字符改为大写即可；比如：
&gt; <code>\W</code>匹配<code>任意不是字母、数字、下划线或汉字的字符</code>；
&gt; <code>\S</code> 匹配 <code>任意不是空白符的字符</code>
&gt; <code>\D</code> 匹配 <code>任意非数字的字符</code>
&gt; <code>\B</code> 匹配 <code>不是单词开始或结束的位置</code>
&gt; <code>[^x]</code>匹配 <code>除x以外的任意字符</code>
&gt; <code>[^aeiou]</code> 匹配 <code>除a e i o u以外的任意字符</code></li>
</ul>

<h3>后向引用</h3>

<ul>
<li>14、后向引用；前面讲过用小括号进行分组，其实正则表达式会默认对分组从左向右进行编号；分组0对应整个正则表达式；后向引用用于重复搜索前面某个分组匹配的文本；
&gt; 举个栗子：<code>\b(\w+)\b\s+\1\b</code>用于匹配重复的单词，形如<code>ha ha</code>、<code>he he</code>等；其中<code>\b(\w+)\b</code>用于匹配一个单词（并非严格意义的单词，用<code>word</code>形容更贴切）；这个单词作为一个分组会被编号为1；因此<code>\s+\1\b</code>是指多个空白符后跟上一步匹配的单词</li>
</ul>

<p>也可以自己指定分组名，使用<code>(?&lt;word&gt;\w+)</code>或<code>(?&#39;word&#39;\w+)</code>就可以把<code>\w+</code>组名指定为word了；当需要后向引用这个分组时可以使用<code>\k&lt;word&gt;</code>引用
  后向引用还有更复杂的操作，这里就不再枚举了，有兴趣的朋友可以访问教程源地址进行深入了解</p>

<h3>零宽断言</h3>

<ul>
<li>15、零宽断言：用于查找某些特定位置的内容；</li>
</ul>

<blockquote>
<ul>
<li><p><code>(?=exp)</code>也叫<strong>零宽度正预测先行断言</strong>；它匹配自身出现位置后的表达式exp；比如<code>\b\w+(?=ing\b)</code>匹配以ing结尾单词的前面部分。对于<code>I&#39;m singing while you&#39;re dancing</code>会匹配<code>sing</code>和<code>danc</code></p></li>
<li><p><code>(?&lt;=exp)</code>也叫<strong>零宽度正回顾后发断言</strong>；它匹配自身出现位置前的表达式exp；比如<code>(?&lt;=\bre)\w+\b</code>匹配以re开头单词的后面部分。对于<code>I&#39;m reading a novel</code>会匹配<code>ading</code></p></li>
</ul>

<blockquote>
<p>举个栗子：<code>(?&lt;=\s)\d+(?=\s)</code>匹配以空白符间隔的数字</p>
</blockquote>
</blockquote>

<h3>零宽度负预测先行断言</h3>

<ul>
<li>16、先看一个栗子：我们现在相匹配一个含有字母q，且q后面不跟u的单词；使用：<code>\b\w*q[^u]\w*\b</code>很容易理解是匹配一个q后面不是u的单词；但这里有个问题就是[^u]是指匹配不是u的任意字符（也就是说一定要匹配一个字符），那么这个正则表达式就与我们的出发点不一致了（因为p如果在单词的最后一位，可能会导致匹配两个单词；比如会匹配<code>Iraq fighting</code>）；</li>
</ul>

<blockquote>
<p>这个时候我们就需要使用<strong>零宽度负预测先行断言(?!exp)</strong>了，意思是<code>匹配后面不是exp的结果</code>；对于<code>\d{3}(?!\d)</code>即匹配一个三位数字，且这三位数字后不跟数字</p>

<p>同上还有一个<strong>零宽度负回顾后发断言(?&lt;!exp)</strong>来<code>匹配前面不是exp的结果</code>；比如<code>(?&lt;[a-z])\d{7}</code>匹配前面不是小写字母的七个数字</p>

<p>举一个重要的栗子：<code>(?&lt;=&lt;(\w+)&gt;).*(?=&lt;\/\1&gt;)</code>用于匹配不含属性的简单HTML标签内的内容</p>
</blockquote>

<h3>注释</h3>

<ul>
<li>17、可以通过语法<code>(?#comment)</code>来包含注释</li>
</ul>

<h3>贪婪与懒惰</h3>

<ul>
<li>18、当正则表达式中包含能接受重复的限定符时，默认时匹配尽可能多的字符，如<code>a.*b</code>对于<code>aabab</code>会匹配<code>aabab</code>而不是<code>ab</code>或<code>abab</code>； 我们称这种匹配方式为<strong>贪婪匹配</strong></li>
</ul>

<p>与之对应的就是<strong>懒惰匹配</strong>会匹配尽可能少的字符；把贪婪匹配转为懒惰匹配的方法就是在对应限定符后加<code>？</code></p>

<blockquote>
<h4>懒惰限定符</h4>

<p><code>*?</code>  ： <code>重复任意次，但尽可能少重复</code></p>

<p><code>+?</code>  ： <code>重复1次或更多次，但尽可能少重复</code></p>

<p><code>??</code>  ：<code>重复0次或1次，但尽可能少重复</code></p>

<p><code>{n,m}?</code>  ： <code>重复n到m次，但尽可能少重复</code></p>

<p><code>{n,}?</code>   ： <code>重复n次以上，但尽可能少重复</code>
* </p>
</blockquote>
</blockquote>

<h1>写在最后</h1>

<blockquote>
<p>还有一部分内容没有涉及，原因是太复杂了且不常用，现在学习了不用也会很快忘记，所以我选择在需要的时候再去学习吧！</p>

<p>正则表达式的学习到这里就告一段落了！</p>
</blockquote>

        </div>
        <hr class="post-end-left"><p class="post-end">结束</p><hr class="post-end-right"/>
        <div class="post-footer">
            
            <p class="post-footer-previous">上一篇 ： <a class="entry-more" href="/coding/php%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html">php学习笔记</a></p>
            
            
            <p class="post-footer-next">下一篇 ： <a class="entry-more" href="/coding/leetcode-235-lowest-common-ancestor-of-a-binary-search-tree%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html">LeetCode 235（数据结构）</a></p>
            
        </div>
    <!-- JiaThis Button BEGIN -->
    <div class="jiathis_style">
        <span style="font-family:sans-serif; color:#009966">分享到：</span>
        <a class="jiathis_button_weixin share_button" href="#"></a>
        <a class="jiathis_button_tsina share_button" href="#"></a>
        <a class="jiathis_button_qzone share_button" href="#"></a>
        <a class="jiathis_button_evernote share_button" href="#"></a>
        <a class="jiathis_button_ydnote share_button" href="#"></a>
        <a class="jiathis_button_pocket share_button" href="#"></a>
        <a class="jiathis_button_douban share_button" href="#"></a>
        <a class="jiathis_button_renren share_button" href="#"></a>
        <a class="jiathis_button_fb share_button" href="#"></a>
        <a class="jiathis_button_linkedin share_button" href="#"></a>
        <a class="jiathis_button_googleplus share_button" href="#"></a>
        <a class="jiathis_button_tumblr share_button" href="#"></a>
        <a class="jiathis_counter_style"></a>
    </div>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script>
<script type="text/javascript" src="/js/totop.js" charset="utf-8"></script>
<!-- JiaThis Button END -->
</article>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'yinwoods'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    



		</div>
					<footer class="footer">
				<div class="row">
					<div class="pull-left">
						<a class="avatar" href="/" title="yinwoods">yinwoods</a>
                        			<p class="copyright">2015 ALL RIGHTS RESERVED</p>
					</div>
					
					<div class="pull-center">
						<h4>Powered by <a target="_blank" href="https://github.com/yinwoods">github</a> && <a target="_blank" href="http://jekyllrb.com/">jekyll</a></h4>
					</div>
				</div>
			</footer>

				<nav id="menu" class="menu">
			<ul>
				<li class="logo"><a href="about.html"><img  class="img-circle" height="100px" width="100px" src="/img/about/me.png"></a></li>

				<li><a href="/index.html"><span class="glyphicon glyphicon-home"></span></i> 首页 </a></li>
				
				<li><a href="/coding.html"><span class="glyphicon glyphicon-road"></span></i>  编程之路 </a></li>

				<li><a href="/myshare.html"><span class="glyphicon glyphicon-gift"></span>  我的分享 </a></li>
				
				<li><a href="/diary.html"><span class="glyphicon glyphicon-calendar"></span></i>  生活日志 </a></li>
				
				<li><a href="/book-movie-list/booklist.html"><span class="glyphicon glyphicon-inbox"></span></i>  书单/影单  </a></li>

				<li><a href="/about.html"><span class="glyphicon glyphicon-sunglasses"></span></i>  关于博主 </a></li>

				<li><a href="/friend.html"><span class="glyphicon glyphicon-send"></span></i> 我的朋友 </a></li>

				<li><img class="img-rounded" height="100px" width="100%" src="/img/about/footer.png"></li>

			</ul>
			<button id="btnClose" class="btn-close"></button>

			<div id="SVGMenu" class="svg-menu" 
                data-menu-open="M-7.312,0H15c0,0,66,113.339,66,399.5C81,664.006,15,800,15,800H-7.312V0z;M-7.312,0H100c0,0,0,113.839,0,400c0,264.506,0,400,0,400H-7.312V0z" 
                data-menu-close="M-6,0h101c0,0-90,153.603-90,396.167C2.167,627.579,100,800,100,800H-1V0z;M-7.312,0H100c0,0,0,113.839,0,400c0,264.506,0,400,0,400H-7.312V0z">
				<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100 800" preserveAspectRatio="none">
					<path d="M-7.312,0H0c0,0,0,113.839,0,400c0,264.506,0,400,0,400h-7.312V0z"/>
				</svg>
			</div>

		</nav>


		<div id="totop">
    			<a title="返回顶部">返回顶部</a>
		</div>
	</div>

	<script type="text/javascript" src="/js/classie.js"></script>

	<script type="text/javascript" src="/js/snap.svg-min.js"></script>
	<script type="text/javascript" src="/js/menuTriggle.js"></script>
	<script type="text/javascript" src="/js/SVGButton.js"></script>

	<script type="text/javascript" src="/js/postTriggle.js"></script>

	
	<script type="text/javascript" src="/js/jquery-2.1.1.min.js"></script>
	<script type="text/javascript" src="/js/totop.js"></script>
	<script type="text/javascript">
		var content = document.querySelector('.content'),
			footer = document.querySelector('.footer'),
			footT  = footer.offsetTop,
			footH  = footer.offsetHeight,
			winH   = window.innerHeight,
			post   = document.querySelectorAll('p');

		if (footT - footH + 100 < winH) {
			content.style.height = '100%';
		};

		for (var i = 0; i < post.length; i++) {
			if (post.item(i).querySelector('img')) {
				post.item(i).style.textIndent = 0;
			};
		};

	</script>
	<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?eefd87bbdb3a5e21ecb7f319769dd8b9";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

</body>
</html>
